# -*- coding: utf-8 -*-
"""
Created on Wed Nov 28 16:20:41 2018

@author: trying
"""

import shapefile
import matplotlib.pyplot as plt
import matplotlib.path as mplPath
import pandas as pd
import seaborn as sns
import numpy as np
from sklearn import linear_model
#read the shapes of the wards in toronto
sf = shapefile.Reader("icitw_wgs84.shp")
wards = sf.shapeRecords() #list of shapes

'''
delete the next two lines when u combine my code with aaron's
ward_waste is defined in ward.py
'''
restaurantData = pd.read_excel('output.xlsx')
ward_waste={'Scarborough-Rouge River (41)': {'2016-01': [86, 50], '2016-02': [32, 64], '2016-03': [44, 26], '2016-04': [34, 28], '2016-05': [34, 22], '2016-06': [51, 56], '2016-07': [45, 42], '2016-08': [31, 43], '2016-09': [40, 56], '2016-10': [43, 54], '2016-11': [35, 55], '2016-12': [32, 50], '2017-01': [58, 33], '2017-02': [38, 47], '2017-03': [29, 45], '2017-04': [29, 20], '2017-05': [37, 46], '2017-06': [49, 58], '2017-07': [32, 42], '2017-08': [36, 31], '2017-09': [53, 53], '2017-10': [40, 42], '2017-11': [22, 47], '2017-12': [32, 27], '2018-01': [54, 33], '2018-02': [27, 32], '2018-03': [37, 24], '2018-04': [17, 68], '2018-05': [58, 37], '2018-06': [28, 40], '2018-07': [27, 23], '2018-08': [23, 33], '2018-09': [19, 28]}, 'Scarborough East (44)': {'2016-01': [70, 70], '2016-02': [29, 58], '2016-03': [39, 95], '2016-04': [51, 70], '2016-05': [66, 49], '2016-06': [47, 56], '2016-07': [69, 95], '2016-08': [57, 65], '2016-09': [49, 60], '2016-10': [43, 54], '2016-11': [41, 113], '2016-12': [43, 57], '2017-01': [84, 54], '2017-02': [37, 45], '2017-03': [43, 97], '2017-04': [40, 59], '2017-05': [59, 59], '2017-06': [51, 42], '2017-07': [63, 72], '2017-08': [67, 48], '2017-09': [46, 41], '2017-10': [39, 53], '2017-11': [22, 74], '2017-12': [40, 37], '2018-01': [93, 65], '2018-02': [36, 21], '2018-03': [37, 75], '2018-04': [53, 58], '2018-05': [64, 44], '2018-06': [62, 28], '2018-07': [60, 59], '2018-08': [47, 54], '2018-09': [47, 37]}, 'Scarborough-Rouge River (42)': {'2016-01': [77, 78], '2016-02': [28, 52], '2016-03': [50, 50], '2016-04': [24, 51], '2016-05': [67, 91], '2016-06': [48, 49], '2016-07': [56, 59], '2016-08': [57, 77], '2016-09': [51, 80], '2016-10': [38, 38], '2016-11': [23, 54], '2016-12': [36, 32], '2017-01': [92, 60], '2017-02': [30, 25], '2017-03': [22, 39], '2017-04': [29, 33], '2017-05': [42, 75], '2017-06': [39, 37], '2017-07': [63, 38], '2017-08': [56, 51], '2017-09': [39, 63], '2017-10': [30, 37], '2017-11': [22, 37], '2017-12': [29, 54], '2018-01': [79, 53], '2018-02': [42, 34], '2018-03': [47, 35], '2018-04': [28, 42], '2018-05': [42, 49], '2018-06': [36, 35], '2018-07': [46, 38], '2018-08': [49, 50], '2018-09': [35, 38]}, 'Scarborough-Agincourt (39)': {'2016-01': [44, 34], '2016-02': [18, 36], '2016-03': [69, 39], '2016-04': [37, 25], '2016-05': [84, 32], '2016-06': [66, 48], '2016-07': [73, 37], '2016-08': [63, 25], '2016-09': [68, 31], '2016-10': [55, 29], '2016-11': [63, 34], '2016-12': [43, 26], '2017-01': [61, 33], '2017-02': [21, 26], '2017-03': [40, 44], '2017-04': [50, 23], '2017-05': [52, 30], '2017-06': [50, 31], '2017-07': [46, 31], '2017-08': [68, 23], '2017-09': [53, 106], '2017-10': [21, 28], '2017-11': [18, 22], '2017-12': [22, 13], '2018-01': [44, 33], '2018-02': [21, 17], '2018-03': [19, 22], '2018-04': [15, 22], '2018-05': [27, 28], '2018-06': [22, 27], '2018-07': [21, 21], '2018-08': [27, 19], '2018-09': [22, 25]}, 'Willowdale (24)': {'2016-01': [112, 38], '2016-02': [26, 21], '2016-03': [27, 58], '2016-04': [44, 50], '2016-05': [32, 35], '2016-06': [41, 38], '2016-07': [76, 56], '2016-08': [47, 58], '2016-09': [45, 54], '2016-10': [52, 41], '2016-11': [44, 61], '2016-12': [41, 31], '2017-01': [82, 42], '2017-02': [35, 22], '2017-03': [52, 82], '2017-04': [31, 58], '2017-05': [41, 47], '2017-06': [35, 33], '2017-07': [25, 40], '2017-08': [53, 40], '2017-09': [26, 36], '2017-10': [23, 40], '2017-11': [19, 45], '2017-12': [26, 28], '2018-01': [64, 26], '2018-02': [29, 21], '2018-03': [34, 40], '2018-04': [17, 37], '2018-05': [31, 31], '2018-06': [30, 32], '2018-07': [43, 41], '2018-08': [28, 54], '2018-09': [20, 36]}, 'Scarborough-Agincourt (40)': {'2016-01': [56, 35], '2016-02': [28, 18], '2016-03': [32, 29], '2016-04': [33, 39], '2016-05': [43, 35], '2016-06': [31, 28], '2016-07': [39, 48], '2016-08': [39, 43], '2016-09': [40, 30], '2016-10': [17, 16], '2016-11': [28, 45], '2016-12': [31, 31], '2017-01': [51, 16], '2017-02': [21, 20], '2017-03': [27, 44], '2017-04': [22, 20], '2017-05': [37, 23], '2017-06': [28, 28], '2017-07': [42, 46], '2017-08': [39, 33], '2017-09': [30, 31], '2017-10': [32, 19], '2017-11': [30, 37], '2017-12': [25, 14], '2018-01': [50, 18], '2018-02': [28, 16], '2018-03': [27, 22], '2018-04': [24, 33], '2018-05': [28, 16], '2018-06': [28, 26], '2018-07': [36, 24], '2018-08': [38, 22], '2018-09': [31, 13]}, 'Don Valley East (33)': {'2016-01': [67, 33], '2016-02': [22, 14], '2016-03': [24, 25], '2016-04': [31, 22], '2016-05': [32, 55], '2016-06': [52, 26], '2016-07': [49, 22], '2016-08': [35, 40], '2016-09': [26, 44], '2016-10': [21, 12], '2016-11': [23, 34], '2016-12': [27, 20], '2017-01': [46, 26], '2017-02': [22, 14], '2017-03': [18, 27], '2017-04': [24, 38], '2017-05': [26, 47], '2017-06': [33, 37], '2017-07': [29, 24], '2017-08': [30, 38], '2017-09': [24, 34], '2017-10': [24, 36], '2017-11': [11, 28], '2017-12': [21, 20], '2018-01': [49, 32], '2018-02': [22, 22], '2018-03': [16, 18], '2018-04': [28, 19], '2018-05': [23, 28], '2018-06': [17, 15], '2018-07': [26, 24], '2018-08': [26, 34], '2018-09': [27, 24]}, 'Willowdale (23)': {'2016-01': [86, 54], '2016-02': [52, 36], '2016-03': [36, 44], '2016-04': [59, 94], '2016-05': [68, 63], '2016-06': [49, 48], '2016-07': [83, 60], '2016-08': [64, 97], '2016-09': [54, 62], '2016-10': [47, 57], '2016-11': [57, 59], '2016-12': [66, 76], '2017-01': [96, 49], '2017-02': [52, 33], '2017-03': [45, 50], '2017-04': [55, 89], '2017-05': [70, 61], '2017-06': [70, 55], '2017-07': [75, 53], '2017-08': [74, 67], '2017-09': [56, 52], '2017-10': [40, 50], '2017-11': [62, 43], '2017-12': [47, 56], '2018-01': [70, 42], '2018-02': [38, 27], '2018-03': [33, 20], '2018-04': [56, 61], '2018-05': [67, 41], '2018-06': [49, 35], '2018-07': [55, 54], '2018-08': [60, 66], '2018-09': [49, 50]}, 'York West (08)': {'2016-01': [21, 13], '2016-02': [13, 20], '2016-03': [10, 31], '2016-04': [28, 38], '2016-05': [25, 19], '2016-06': [38, 13], '2016-07': [36, 18], '2016-08': [31, 32], '2016-09': [27, 28], '2016-10': [16, 20], '2016-11': [16, 28], '2016-12': [19, 27], '2017-01': [25, 22], '2017-02': [12, 13], '2017-03': [20, 20], '2017-04': [20, 28], '2017-05': [35, 13], '2017-06': [25, 20], '2017-07': [28, 19], '2017-08': [29, 14], '2017-09': [29, 11], '2017-10': [26, 12], '2017-11': [16, 16], '2017-12': [26, 19], '2018-01': [50, 15], '2018-02': [11, 12], '2018-03': [17, 20], '2018-04': [15, 52], '2018-05': [38, 16], '2018-06': [18, 11], '2018-07': [29, 14], '2018-08': [28, 20], '2018-09': [16, 18]}, 'Scarborough Centre (38)': {'2016-01': [79, 39], '2016-02': [33, 28], '2016-03': [28, 63], '2016-04': [28, 42], '2016-05': [49, 36], '2016-06': [48, 42], '2016-07': [52, 74], '2016-08': [47, 30], '2016-09': [32, 46], '2016-10': [23, 29], '2016-11': [21, 62], '2016-12': [32, 31], '2017-01': [75, 31], '2017-02': [21, 38], '2017-03': [28, 68], '2017-04': [42, 27], '2017-05': [49, 26], '2017-06': [45, 31], '2017-07': [34, 48], '2017-08': [38, 33], '2017-09': [38, 37], '2017-10': [30, 33], '2017-11': [21, 41], '2017-12': [34, 31], '2018-01': [90, 20], '2018-02': [30, 19], '2018-03': [54, 40], '2018-04': [43, 39], '2018-05': [37, 44], '2018-06': [46, 38], '2018-07': [48, 34], '2018-08': [47, 35], '2018-09': [30, 31]}, 'York West (07)': {'2016-01': [43, 38], '2016-02': [23, 23], '2016-03': [28, 72], '2016-04': [51, 44], '2016-05': [33, 77], '2016-06': [50, 103], '2016-07': [56, 82], '2016-08': [55, 56], '2016-09': [55, 48], '2016-10': [25, 35], '2016-11': [31, 51], '2016-12': [41, 51], '2017-01': [57, 32], '2017-02': [22, 39], '2017-03': [41, 61], '2017-04': [29, 36], '2017-05': [35, 26], '2017-06': [47, 33], '2017-07': [55, 35], '2017-08': [45, 24], '2017-09': [24, 43], '2017-10': [21, 45], '2017-11': [31, 54], '2017-12': [24, 25], '2018-01': [46, 36], '2018-02': [16, 21], '2018-03': [23, 67], '2018-04': [37, 86], '2018-05': [39, 35], '2018-06': [57, 37], '2018-07': [43, 32], '2018-08': [48, 19], '2018-09': [29, 23]}, 'Don Valley East (34)': {'2016-01': [65, 23], '2016-02': [21, 15], '2016-03': [25, 51], '2016-04': [39, 22], '2016-05': [24, 19], '2016-06': [20, 15], '2016-07': [70, 46], '2016-08': [37, 29], '2016-09': [41, 23], '2016-10': [27, 32], '2016-11': [34, 47], '2016-12': [44, 19], '2017-01': [102, 15], '2017-02': [38, 12], '2017-03': [46, 53], '2017-04': [40, 21], '2017-05': [53, 30], '2017-06': [46, 27], '2017-07': [39, 34], '2017-08': [25, 22], '2017-09': [23, 26], '2017-10': [25, 19], '2017-11': [17, 40], '2017-12': [13, 19], '2018-01': [48, 17], '2018-02': [16, 14], '2018-03': [20, 25], '2018-04': [25, 15], '2018-05': [29, 23], '2018-06': [43, 15], '2018-07': [32, 26], '2018-08': [36, 38], '2018-09': [61, 23]}, 'Don Valley West (25)': {'2016-01': [108, 52], '2016-02': [38, 67], '2016-03': [40, 55], '2016-04': [50, 40], '2016-05': [39, 68], '2016-06': [54, 49], '2016-07': [59, 37], '2016-08': [72, 54], '2016-09': [49, 78], '2016-10': [53, 48], '2016-11': [43, 50], '2016-12': [61, 52], '2017-01': [93, 65], '2017-02': [30, 51], '2017-03': [59, 47], '2017-04': [67, 57], '2017-05': [69, 62], '2017-06': [62, 66], '2017-07': [35, 43], '2017-08': [49, 69], '2017-09': [44, 64], '2017-10': [21, 47], '2017-11': [45, 43], '2017-12': [45, 36], '2018-01': [125, 55], '2018-02': [27, 31], '2018-03': [46, 38], '2018-04': [45, 30], '2018-05': [48, 38], '2018-06': [58, 38], '2018-07': [62, 38], '2018-08': [64, 46], '2018-09': [39, 77]}, 'Scarborough East (43)': {'2016-01': [64, 65], '2016-02': [28, 43], '2016-03': [38, 35], '2016-04': [37, 33], '2016-05': [35, 59], '2016-06': [48, 41], '2016-07': [61, 44], '2016-08': [46, 41], '2016-09': [38, 64], '2016-10': [30, 33], '2016-11': [26, 45], '2016-12': [28, 24], '2017-01': [62, 40], '2017-02': [26, 33], '2017-03': [27, 36], '2017-04': [34, 25], '2017-05': [40, 42], '2017-06': [38, 29], '2017-07': [43, 21], '2017-08': [39, 25], '2017-09': [29, 44], '2017-10': [27, 25], '2017-11': [27, 27], '2017-12': [35, 26], '2018-01': [65, 39], '2018-02': [29, 15], '2018-03': [42, 31], '2018-04': [32, 26], '2018-05': [37, 45], '2018-06': [37, 30], '2018-07': [44, 24], '2018-08': [37, 15], '2018-09': [37, 35]}, 'York Centre (10)': {'2016-01': [63, 26], '2016-02': [40, 27], '2016-03': [39, 79], '2016-04': [42, 38], '2016-05': [56, 35], '2016-06': [79, 29], '2016-07': [75, 55], '2016-08': [58, 33], '2016-09': [50, 34], '2016-10': [43, 43], '2016-11': [51, 70], '2016-12': [62, 70], '2017-01': [72, 49], '2017-02': [25, 20], '2017-03': [30, 70], '2017-04': [44, 37], '2017-05': [44, 38], '2017-06': [53, 42], '2017-07': [76, 66], '2017-08': [78, 41], '2017-09': [40, 30], '2017-10': [50, 48], '2017-11': [42, 44], '2017-12': [40, 37], '2018-01': [72, 24], '2018-02': [27, 28], '2018-03': [33, 47], '2018-04': [38, 35], '2018-05': [53, 34], '2018-06': [46, 23], '2018-07': [43, 46], '2018-08': [46, 32], '2018-09': [52, 33]}, 'York Centre (09)': {'2016-01': [36, 32], '2016-02': [19, 51], '2016-03': [16, 47], '2016-04': [19, 19], '2016-05': [26, 23], '2016-06': [26, 54], '2016-07': [32, 35], '2016-08': [26, 22], '2016-09': [14, 24], '2016-10': [23, 39], '2016-11': [11, 41], '2016-12': [20, 21], '2017-01': [49, 21], '2017-02': [19, 43], '2017-03': [26, 64], '2017-04': [33, 22], '2017-05': [59, 20], '2017-06': [39, 30], '2017-07': [38, 22], '2017-08': [31, 26], '2017-09': [28, 17], '2017-10': [35, 31], '2017-11': [27, 23], '2017-12': [27, 17], '2018-01': [46, 16], '2018-02': [22, 31], '2018-03': [15, 31], '2018-04': [25, 53], '2018-05': [47, 26], '2018-06': [22, 24], '2018-07': [24, 21], '2018-08': [23, 28], '2018-09': [25, 29]}, 'Scarborough Southwest (36)': {'2016-01': [73, 53], '2016-02': [56, 30], '2016-03': [48, 49], '2016-04': [59, 85], '2016-05': [81, 51], '2016-06': [46, 37], '2016-07': [78, 56], '2016-08': [92, 66], '2016-09': [45, 45], '2016-10': [44, 38], '2016-11': [40, 69], '2016-12': [50, 52], '2017-01': [79, 33], '2017-02': [33, 33], '2017-03': [59, 56], '2017-04': [60, 56], '2017-05': [52, 39], '2017-06': [73, 26], '2017-07': [57, 38], '2017-08': [53, 62], '2017-09': [59, 41], '2017-10': [53, 37], '2017-11': [27, 45], '2017-12': [37, 44], '2018-01': [80, 24], '2018-02': [52, 33], '2018-03': [54, 34], '2018-04': [82, 41], '2018-05': [61, 43], '2018-06': [71, 35], '2018-07': [56, 40], '2018-08': [74, 51], '2018-09': [63, 29]}, 'Scarborough Centre (37)': {'2016-01': [72, 46], '2016-02': [40, 35], '2016-03': [48, 90], '2016-04': [45, 58], '2016-05': [57, 30], '2016-06': [68, 64], '2016-07': [63, 83], '2016-08': [47, 57], '2016-09': [56, 34], '2016-10': [58, 70], '2016-11': [30, 79], '2016-12': [43, 33], '2017-01': [75, 23], '2017-02': [33, 37], '2017-03': [33, 77], '2017-04': [36, 35], '2017-05': [53, 33], '2017-06': [58, 69], '2017-07': [50, 74], '2017-08': [58, 66], '2017-09': [49, 50], '2017-10': [36, 71], '2017-11': [35, 47], '2017-12': [41, 26], '2018-01': [76, 41], '2018-02': [30, 24], '2018-03': [39, 72], '2018-04': [58, 39], '2018-05': [65, 28], '2018-06': [56, 36], '2018-07': [53, 32], '2018-08': [70, 35], '2018-09': [45, 35]}, 'Etobicoke North (01)': {'2016-01': [41, 50], '2016-02': [26, 28], '2016-03': [32, 55], '2016-04': [39, 43], '2016-05': [41, 27], '2016-06': [51, 33], '2016-07': [42, 56], '2016-08': [57, 47], '2016-09': [34, 29], '2016-10': [26, 27], '2016-11': [32, 56], '2016-12': [32, 31], '2017-01': [48, 15], '2017-02': [26, 16], '2017-03': [38, 66], '2017-04': [27, 35], '2017-05': [34, 26], '2017-06': [37, 27], '2017-07': [61, 41], '2017-08': [33, 28], '2017-09': [30, 21], '2017-10': [24, 26], '2017-11': [28, 39], '2017-12': [27, 28], '2018-01': [57, 26], '2018-02': [29, 15], '2018-03': [32, 40], '2018-04': [17, 21], '2018-05': [43, 38], '2018-06': [39, 13], '2018-07': [45, 33], '2018-08': [29, 19], '2018-09': [33, 28]}, 'Eglinton-Lawrence (15)': {'2016-01': [66, 48], '2016-02': [55, 75], '2016-03': [46, 41], '2016-04': [76, 31], '2016-05': [80, 46], '2016-06': [57, 78], '2016-07': [63, 46], '2016-08': [53, 52], '2016-09': [49, 59], '2016-10': [41, 54], '2016-11': [37, 45], '2016-12': [41, 40], '2017-01': [58, 38], '2017-02': [39, 69], '2017-03': [41, 43], '2017-04': [51, 34], '2017-05': [59, 42], '2017-06': [62, 54], '2017-07': [62, 52], '2017-08': [68, 36], '2017-09': [39, 52], '2017-10': [54, 64], '2017-11': [40, 51], '2017-12': [39, 29], '2018-01': [70, 44], '2018-02': [33, 40], '2018-03': [33, 49], '2018-04': [38, 40], '2018-05': [58, 43], '2018-06': [50, 37], '2018-07': [48, 36], '2018-08': [59, 49], '2018-09': [48, 29]}, 'Scarborough Southwest (35)': {'2016-01': [66, 47], '2016-02': [43, 28], '2016-03': [47, 27], '2016-04': [49, 100], '2016-05': [45, 52], '2016-06': [49, 39], '2016-07': [59, 60], '2016-08': [57, 78], '2016-09': [45, 47], '2016-10': [41, 36], '2016-11': [34, 34], '2016-12': [33, 54], '2017-01': [71, 43], '2017-02': [35, 35], '2017-03': [36, 31], '2017-04': [52, 61], '2017-05': [52, 55], '2017-06': [65, 33], '2017-07': [42, 39], '2017-08': [61, 67], '2017-09': [39, 29], '2017-10': [42, 35], '2017-11': [34, 29], '2017-12': [44, 45], '2018-01': [62, 26], '2018-02': [37, 31], '2018-03': [59, 29], '2018-04': [51, 45], '2018-05': [62, 45], '2018-06': [56, 36], '2018-07': [50, 21], '2018-08': [52, 48], '2018-09': [45, 35]}, 'Don Valley West (26)': {'2016-01': [45, 30], '2016-02': [18, 13], '2016-03': [17, 13], '2016-04': [30, 16], '2016-05': [30, 36], '2016-06': [28, 14], '2016-07': [43, 17], '2016-08': [34, 20], '2016-09': [30, 38], '2016-10': [29, 18], '2016-11': [41, 24], '2016-12': [32, 16], '2017-01': [30, 22], '2017-02': [22, 13], '2017-03': [19, 17], '2017-04': [21, 8], '2017-05': [45, 21], '2017-06': [25, 18], '2017-07': [11, 13], '2017-08': [17, 20], '2017-09': [22, 34], '2017-10': [14, 26], '2017-11': [33, 10], '2017-12': [18, 15], '2018-01': [27, 10], '2018-02': [10, 12], '2018-03': [15, 15], '2018-04': [22, 10], '2018-05': [27, 25], '2018-06': [18, 10], '2018-07': [31, 13], '2018-08': [20, 22], '2018-09': [28, 17]}, 'York South-Weston (11)': {'2016-01': [59, 61], '2016-02': [48, 96], '2016-03': [45, 63], '2016-04': [49, 47], '2016-05': [65, 37], '2016-06': [85, 107], '2016-07': [68, 60], '2016-08': [77, 52], '2016-09': [54, 45], '2016-10': [69, 68], '2016-11': [42, 65], '2016-12': [38, 41], '2017-01': [87, 42], '2017-02': [31, 96], '2017-03': [49, 84], '2017-04': [44, 49], '2017-05': [41, 43], '2017-06': [63, 69], '2017-07': [56, 51], '2017-08': [55, 40], '2017-09': [38, 47], '2017-10': [36, 79], '2017-11': [41, 61], '2017-12': [47, 43], '2018-01': [71, 36], '2018-02': [42, 53], '2018-03': [32, 48], '2018-04': [47, 36], '2018-05': [66, 47], '2018-06': [49, 40], '2018-07': [52, 40], '2018-08': [55, 63], '2018-09': [46, 41]}, 'Etobicoke North (02)': {'2016-01': [52, 45], '2016-02': [29, 25], '2016-03': [39, 44], '2016-04': [37, 52], '2016-05': [44, 37], '2016-06': [35, 22], '2016-07': [73, 48], '2016-08': [59, 60], '2016-09': [41, 51], '2016-10': [44, 38], '2016-11': [39, 66], '2016-12': [66, 31], '2017-01': [76, 29], '2017-02': [34, 20], '2017-03': [40, 58], '2017-04': [42, 45], '2017-05': [52, 29], '2017-06': [39, 33], '2017-07': [64, 44], '2017-08': [67, 43], '2017-09': [33, 30], '2017-10': [33, 30], '2017-11': [31, 39], '2017-12': [27, 24], '2018-01': [65, 25], '2018-02': [35, 17], '2018-03': [45, 28], '2018-04': [38, 29], '2018-05': [47, 34], '2018-06': [65, 22], '2018-07': [45, 32], '2018-08': [50, 44], '2018-09': [48, 28]}, 'Toronto-Danforth (29)': {'2016-01': [83, 28], '2016-02': [44, 22], '2016-03': [41, 36], '2016-04': [54, 54], '2016-05': [53, 31], '2016-06': [55, 33], '2016-07': [66, 49], '2016-08': [57, 62], '2016-09': [35, 25], '2016-10': [59, 37], '2016-11': [41, 72], '2016-12': [58, 36], '2017-01': [82, 37], '2017-02': [35, 27], '2017-03': [42, 51], '2017-04': [55, 35], '2017-05': [55, 40], '2017-06': [45, 39], '2017-07': [52, 44], '2017-08': [37, 41], '2017-09': [47, 35], '2017-10': [43, 35], '2017-11': [32, 51], '2017-12': [29, 22], '2018-01': [61, 28], '2018-02': [25, 27], '2018-03': [35, 43], '2018-04': [39, 51], '2018-05': [48, 38], '2018-06': [37, 21], '2018-07': [57, 49], '2018-08': [53, 31], '2018-09': [65, 33]}, 'York South-Weston (12)': {'2016-01': [33, 55], '2016-02': [30, 30], '2016-03': [26, 26], '2016-04': [29, 64], '2016-05': [31, 47], '2016-06': [27, 41], '2016-07': [44, 35], '2016-08': [24, 55], '2016-09': [30, 47], '2016-10': [35, 25], '2016-11': [29, 35], '2016-12': [30, 52], '2017-01': [58, 41], '2017-02': [31, 23], '2017-03': [34, 32], '2017-04': [36, 41], '2017-05': [38, 46], '2017-06': [36, 33], '2017-07': [36, 20], '2017-08': [32, 47], '2017-09': [26, 47], '2017-10': [21, 28], '2017-11': [18, 21], '2017-12': [25, 43], '2018-01': [36, 29], '2018-02': [26, 18], '2018-03': [33, 17], '2018-04': [40, 30], '2018-05': [39, 46], '2018-06': [41, 37], '2018-07': [35, 22], '2018-08': [41, 38], '2018-09': [39, 29]}, 'Beaches-East York (32)': {'2016-01': [140, 57], '2016-02': [50, 86], '2016-03': [71, 66], '2016-04': [78, 62], '2016-05': [88, 55], '2016-06': [84, 83], '2016-07': [86, 83], '2016-08': [106, 67], '2016-09': [66, 51], '2016-10': [61, 76], '2016-11': [70, 65], '2016-12': [78, 34], '2017-01': [131, 58], '2017-02': [46, 80], '2017-03': [58, 63], '2017-04': [100, 54], '2017-05': [71, 74], '2017-06': [78, 62], '2017-07': [65, 63], '2017-08': [85, 48], '2017-09': [60, 67], '2017-10': [58, 90], '2017-11': [50, 73], '2017-12': [69, 35], '2018-01': [110, 43], '2018-02': [30, 48], '2018-03': [43, 48], '2018-04': [53, 56], '2018-05': [66, 42], '2018-06': [67, 50], '2018-07': [76, 72], '2018-08': [64, 49], '2018-09': [73, 66]}, 'Beaches-East York (31)': {'2016-01': [93, 48], '2016-02': [37, 37], '2016-03': [56, 36], '2016-04': [69, 57], '2016-05': [49, 62], '2016-06': [72, 62], '2016-07': [88, 34], '2016-08': [90, 55], '2016-09': [38, 41], '2016-10': [44, 36], '2016-11': [53, 67], '2016-12': [62, 53], '2017-01': [93, 31], '2017-02': [43, 16], '2017-03': [54, 49], '2017-04': [61, 61], '2017-05': [48, 59], '2017-06': [77, 40], '2017-07': [51, 36], '2017-08': [61, 63], '2017-09': [31, 44], '2017-10': [46, 40], '2017-11': [27, 34], '2017-12': [46, 40], '2018-01': [103, 38], '2018-02': [37, 26], '2018-03': [26, 17], '2018-04': [54, 36], '2018-05': [50, 69], '2018-06': [46, 38], '2018-07': [40, 43], '2018-08': [53, 57], '2018-09': [46, 37]}, "St. Paul's (22)": {'2016-01': [91, 30], '2016-02': [53, 53], '2016-03': [50, 37], '2016-04': [58, 45], '2016-05': [56, 36], '2016-06': [68, 56], '2016-07': [51, 35], '2016-08': [62, 57], '2016-09': [64, 51], '2016-10': [43, 50], '2016-11': [71, 46], '2016-12': [47, 28], '2017-01': [93, 25], '2017-02': [37, 50], '2017-03': [51, 46], '2017-04': [54, 39], '2017-05': [58, 52], '2017-06': [52, 50], '2017-07': [58, 36], '2017-08': [65, 44], '2017-09': [47, 45], '2017-10': [50, 45], '2017-11': [43, 40], '2017-12': [47, 34], '2018-01': [73, 21], '2018-02': [33, 34], '2018-03': [38, 31], '2018-04': [39, 26], '2018-05': [58, 38], '2018-06': [47, 46], '2018-07': [57, 38], '2018-08': [55, 28], '2018-09': [55, 30]}, "St. Paul's (21)": {'2016-01': [72, 32], '2016-02': [35, 49], '2016-03': [50, 28], '2016-04': [51, 22], '2016-05': [66, 31], '2016-06': [43, 47], '2016-07': [65, 44], '2016-08': [54, 43], '2016-09': [48, 41], '2016-10': [54, 51], '2016-11': [41, 42], '2016-12': [50, 42], '2017-01': [78, 34], '2017-02': [47, 34], '2017-03': [42, 42], '2017-04': [45, 28], '2017-05': [50, 40], '2017-06': [49, 69], '2017-07': [48, 37], '2017-08': [74, 31], '2017-09': [58, 34], '2017-10': [50, 71], '2017-11': [42, 33], '2017-12': [58, 30], '2018-01': [64, 24], '2018-02': [34, 48], '2018-03': [37, 27], '2018-04': [40, 30], '2018-05': [49, 34], '2018-06': [49, 48], '2018-07': [50, 27], '2018-08': [47, 40], '2018-09': [56, 38]}, 'Toronto-Danforth (30)': {'2016-01': [108, 56], '2016-02': [56, 69], '2016-03': [59, 61], '2016-04': [69, 66], '2016-05': [84, 70], '2016-06': [67, 92], '2016-07': [74, 66], '2016-08': [76, 68], '2016-09': [85, 54], '2016-10': [60, 83], '2016-11': [68, 80], '2016-12': [90, 47], '2017-01': [90, 46], '2017-02': [50, 62], '2017-03': [59, 57], '2017-04': [73, 57], '2017-05': [57, 58], '2017-06': [60, 91], '2017-07': [67, 70], '2017-08': [62, 52], '2017-09': [44, 76], '2017-10': [54, 61], '2017-11': [30, 55], '2017-12': [47, 36], '2018-01': [88, 45], '2018-02': [22, 60], '2018-03': [57, 42], '2018-04': [49, 49], '2018-05': [63, 52], '2018-06': [73, 63], '2018-07': [50, 43], '2018-08': [66, 49], '2018-09': [65, 44]}, 'Etobicoke Centre (04)': {'2016-01': [72, 45], '2016-02': [36, 30], '2016-03': [47, 91], '2016-04': [57, 42], '2016-05': [56, 42], '2016-06': [49, 54], '2016-07': [47, 63], '2016-08': [63, 59], '2016-09': [54, 57], '2016-10': [47, 59], '2016-11': [45, 69], '2016-12': [67, 43], '2017-01': [65, 38], '2017-02': [32, 17], '2017-03': [46, 94], '2017-04': [40, 37], '2017-05': [36, 37], '2017-06': [38, 40], '2017-07': [42, 69], '2017-08': [53, 45], '2017-09': [47, 46], '2017-10': [39, 40], '2017-11': [29, 63], '2017-12': [69, 35], '2018-01': [86, 28], '2018-02': [45, 29], '2018-03': [57, 56], '2018-04': [47, 41], '2018-05': [61, 52], '2018-06': [35, 31], '2018-07': [60, 72], '2018-08': [53, 35], '2018-09': [45, 26]}, 'Toronto Centre-Rosedale (27)': {'2016-01': [91, 38], '2016-02': [48, 14], '2016-03': [54, 23], '2016-04': [89, 39], '2016-05': [80, 25], '2016-06': [69, 31], '2016-07': [74, 17], '2016-08': [77, 32], '2016-09': [82, 31], '2016-10': [67, 29], '2016-11': [52, 38], '2016-12': [58, 33], '2017-01': [90, 25], '2017-02': [48, 12], '2017-03': [45, 27], '2017-04': [69, 29], '2017-05': [90, 34], '2017-06': [65, 33], '2017-07': [74, 29], '2017-08': [71, 24], '2017-09': [69, 28], '2017-10': [57, 18], '2017-11': [67, 35], '2017-12': [54, 16], '2018-01': [94, 30], '2018-02': [54, 17], '2018-03': [47, 22], '2018-04': [43, 24], '2018-05': [64, 19], '2018-06': [62, 19], '2018-07': [81, 36], '2018-08': [69, 33], '2018-09': [57, 28]}, 'Davenport (18)': {'2016-01': [76, 38], '2016-02': [49, 57], '2016-03': [44, 45], '2016-04': [43, 42], '2016-05': [55, 37], '2016-06': [47, 68], '2016-07': [57, 47], '2016-08': [50, 46], '2016-09': [45, 42], '2016-10': [54, 56], '2016-11': [42, 47], '2016-12': [49, 43], '2017-01': [80, 53], '2017-02': [36, 50], '2017-03': [44, 44], '2017-04': [50, 53], '2017-05': [44, 54], '2017-06': [63, 46], '2017-07': [50, 50], '2017-08': [72, 53], '2017-09': [49, 49], '2017-10': [40, 49], '2017-11': [40, 43], '2017-12': [37, 40], '2018-01': [83, 36], '2018-02': [37, 49], '2018-03': [45, 39], '2018-04': [44, 50], '2018-05': [65, 65], '2018-06': [54, 47], '2018-07': [50, 41], '2018-08': [62, 36], '2018-09': [42, 52]}, 'Etobicoke Centre (03)': {'2016-01': [79, 70], '2016-02': [37, 39], '2016-03': [34, 33], '2016-04': [41, 101], '2016-05': [48, 43], '2016-06': [54, 45], '2016-07': [74, 42], '2016-08': [44, 66], '2016-09': [50, 46], '2016-10': [53, 41], '2016-11': [48, 72], '2016-12': [48, 56], '2017-01': [88, 38], '2017-02': [40, 20], '2017-03': [53, 28], '2017-04': [35, 70], '2017-05': [61, 39], '2017-06': [44, 31], '2017-07': [48, 42], '2017-08': [43, 53], '2017-09': [34, 43], '2017-10': [34, 27], '2017-11': [37, 41], '2017-12': [48, 53], '2018-01': [73, 34], '2018-02': [40, 20], '2018-03': [33, 19], '2018-04': [40, 49], '2018-05': [69, 38], '2018-06': [47, 27], '2018-07': [42, 40], '2018-08': [55, 35], '2018-09': [46, 31]}, 'Toronto Centre-Rosedale (28)': {'2016-01': [63, 24], '2016-02': [40, 17], '2016-03': [48, 32], '2016-04': [45, 20], '2016-05': [52, 23], '2016-06': [42, 23], '2016-07': [59, 19], '2016-08': [58, 19], '2016-09': [45, 23], '2016-10': [42, 25], '2016-11': [49, 24], '2016-12': [45, 12], '2017-01': [38, 22], '2017-02': [33, 16], '2017-03': [48, 20], '2017-04': [59, 14], '2017-05': [46, 23], '2017-06': [39, 27], '2017-07': [50, 26], '2017-08': [43, 29], '2017-09': [40, 26], '2017-10': [36, 27], '2017-11': [50, 24], '2017-12': [37, 23], '2018-01': [63, 11], '2018-02': [19, 10], '2018-03': [27, 17], '2018-04': [37, 24], '2018-05': [37, 27], '2018-06': [30, 17], '2018-07': [48, 25], '2018-08': [49, 28], '2018-09': [68, 33]}, 'Trinity-Spadina (20)': {'2016-01': [90, 42], '2016-02': [53, 22], '2016-03': [74, 35], '2016-04': [59, 29], '2016-05': [85, 44], '2016-06': [72, 43], '2016-07': [108, 45], '2016-08': [103, 46], '2016-09': [84, 57], '2016-10': [76, 57], '2016-11': [63, 40], '2016-12': [75, 31], '2017-01': [103, 45], '2017-02': [53, 39], '2017-03': [52, 59], '2017-04': [59, 34], '2017-05': [67, 69], '2017-06': [79, 47], '2017-07': [88, 49], '2017-08': [88, 39], '2017-09': [88, 69], '2017-10': [74, 44], '2017-11': [66, 35], '2017-12': [66, 35], '2018-01': [98, 60], '2018-02': [57, 31], '2018-03': [58, 36], '2018-04': [59, 40], '2018-05': [81, 52], '2018-06': [74, 29], '2018-07': [73, 41], '2018-08': [77, 27], '2018-09': [75, 62]}, 'Etobicoke-Lakeshore (05)': {'2016-01': [93, 74], '2016-02': [50, 46], '2016-03': [60, 50], '2016-04': [68, 76], '2016-05': [74, 98], '2016-06': [96, 64], '2016-07': [88, 51], '2016-08': [85, 86], '2016-09': [75, 88], '2016-10': [67, 57], '2016-11': [71, 80], '2016-12': [69, 64], '2017-01': [123, 63], '2017-02': [52, 42], '2017-03': [83, 53], '2017-04': [54, 70], '2017-05': [79, 71], '2017-06': [64, 53], '2017-07': [76, 41], '2017-08': [97, 86], '2017-09': [57, 62], '2017-10': [61, 57], '2017-11': [62, 41], '2017-12': [90, 65], '2018-01': [109, 54], '2018-02': [83, 24], '2018-03': [69, 54], '2018-04': [63, 52], '2018-05': [103, 68], '2018-06': [44, 35], '2018-07': [84, 49], '2018-08': [80, 61], '2018-09': [79, 47]}, 'Etobicoke-Lakeshore (06)': {'2016-01': [106, 86], '2016-02': [60, 52], '2016-03': [74, 38], '2016-04': [87, 51], '2016-05': [98, 103], '2016-06': [84, 46], '2016-07': [93, 63], '2016-08': [122, 71], '2016-09': [78, 100], '2016-10': [74, 74], '2016-11': [70, 65], '2016-12': [82, 52], '2017-01': [101, 79], '2017-02': [70, 29], '2017-03': [77, 48], '2017-04': [58, 45], '2017-05': [63, 85], '2017-06': [77, 41], '2017-07': [95, 44], '2017-08': [106, 56], '2017-09': [65, 90], '2017-10': [56, 43], '2017-11': [57, 53], '2017-12': [86, 47], '2018-01': [111, 74], '2018-02': [71, 41], '2018-03': [73, 45], '2018-04': [60, 40], '2018-05': [90, 63], '2018-06': [79, 37], '2018-07': [105, 49], '2018-08': [87, 54], '2018-09': [82, 64]}, 'Eglinton-Lawrence (16)': {'2016-01': [72, 66], '2016-02': [55, 41], '2016-03': [51, 39], '2016-04': [54, 46], '2016-05': [55, 95], '2016-06': [48, 63], '2016-07': [76, 47], '2016-08': [55, 54], '2016-09': [77, 77], '2016-10': [60, 49], '2016-11': [47, 52], '2016-12': [60, 45], '2017-01': [87, 54], '2017-02': [28, 32], '2017-03': [49, 32], '2017-04': [53, 37], '2017-05': [62, 81], '2017-06': [61, 39], '2017-07': [72, 48], '2017-08': [81, 45], '2017-09': [58, 59], '2017-10': [66, 56], '2017-11': [59, 54], '2017-12': [51, 46], '2018-01': [85, 47], '2018-02': [38, 31], '2018-03': [45, 43], '2018-04': [50, 53], '2018-05': [67, 53], '2018-06': [49, 43], '2018-07': [55, 42], '2018-08': [73, 51], '2018-09': [48, 43]}, 'Parkdale-High Park (14)': {'2016-01': [86, 29], '2016-02': [56, 31], '2016-03': [53, 29], '2016-04': [37, 61], '2016-05': [64, 33], '2016-06': [74, 31], '2016-07': [50, 33], '2016-08': [69, 57], '2016-09': [56, 43], '2016-10': [57, 41], '2016-11': [45, 40], '2016-12': [58, 41], '2017-01': [76, 42], '2017-02': [39, 26], '2017-03': [50, 25], '2017-04': [46, 59], '2017-05': [58, 44], '2017-06': [57, 43], '2017-07': [59, 44], '2017-08': [58, 72], '2017-09': [49, 33], '2017-10': [39, 44], '2017-11': [44, 60], '2017-12': [50, 48], '2018-01': [84, 37], '2018-02': [39, 26], '2018-03': [56, 32], '2018-04': [39, 50], '2018-05': [78, 63], '2018-06': [62, 32], '2018-07': [66, 31], '2018-08': [54, 41], '2018-09': [51, 39]}, 'Parkdale-High Park (13)': {'2016-01': [74, 50], '2016-02': [34, 35], '2016-03': [44, 35], '2016-04': [54, 67], '2016-05': [52, 52], '2016-06': [59, 37], '2016-07': [58, 37], '2016-08': [64, 72], '2016-09': [55, 37], '2016-10': [55, 54], '2016-11': [32, 53], '2016-12': [50, 57], '2017-01': [103, 37], '2017-02': [39, 21], '2017-03': [55, 37], '2017-04': [62, 62], '2017-05': [42, 42], '2017-06': [64, 52], '2017-07': [65, 42], '2017-08': [82, 86], '2017-09': [47, 60], '2017-10': [50, 30], '2017-11': [40, 37], '2017-12': [47, 51], '2018-01': [89, 38], '2018-02': [33, 32], '2018-03': [49, 38], '2018-04': [58, 70], '2018-05': [75, 46], '2018-06': [68, 42], '2018-07': [80, 38], '2018-08': [68, 66], '2018-09': [47, 45]}, 'Trinity-Spadina (19)': {'2016-01': [93, 56], '2016-02': [49, 43], '2016-03': [46, 65], '2016-04': [53, 54], '2016-05': [76, 61], '2016-06': [79, 65], '2016-07': [72, 71], '2016-08': [82, 69], '2016-09': [79, 83], '2016-10': [75, 62], '2016-11': [56, 57], '2016-12': [57, 55], '2017-01': [123, 52], '2017-02': [34, 35], '2017-03': [51, 60], '2017-04': [63, 56], '2017-05': [67, 65], '2017-06': [68, 79], '2017-07': [59, 59], '2017-08': [73, 63], '2017-09': [38, 65], '2017-10': [46, 73], '2017-11': [58, 68], '2017-12': [54, 40], '2018-01': [98, 48], '2018-02': [42, 37], '2018-03': [49, 53], '2018-04': [56, 44], '2018-05': [59, 50], '2018-06': [73, 60], '2018-07': [74, 44], '2018-08': [68, 49], '2018-09': [51, 43]}, 'Davenport (17)': {'2016-01': [67, 108], '2016-02': [35, 81], '2016-03': [51, 51], '2016-04': [39, 58], '2016-05': [55, 90], '2016-06': [63, 84], '2016-07': [47, 62], '2016-08': [74, 69], '2016-09': [52, 76], '2016-10': [43, 68], '2016-11': [34, 49], '2016-12': [51, 38], '2017-01': [92, 92], '2017-02': [32, 64], '2017-03': [55, 54], '2017-04': [46, 62], '2017-05': [52, 63], '2017-06': [55, 56], '2017-07': [72, 69], '2017-08': [68, 63], '2017-09': [51, 91], '2017-10': [36, 64], '2017-11': [28, 52], '2017-12': [52, 54], '2018-01': [112, 62], '2018-02': [45, 39], '2018-03': [40, 55], '2018-04': [46, 31], '2018-05': [64, 103], '2018-06': [63, 65], '2018-07': [44, 53], '2018-08': [53, 48], '2018-09': [53, 72]}}


wardname=list()
reswaste=list()
nonwaste=list()    
for i in range(len(restaurantData.values)):
    #find out the ward
    lat=restaurantData.LATITUDE[i]
    long=restaurantData.LONGITUDE[i]
    exist=False
    
    for j in range(len(wards)):
        if exist: 
            break
        name = wards[j].record[2]
        if name.index(')')-name.index('(')==2:     #fix the naming issue for (6) and (06)
            name=name[0:name.index('(')]+'(0'+name[name.index('(')+1:]
        # define point in shape
        points = wards[j].shape.points
        bbPath = mplPath.Path(points)
        if bbPath.contains_point((long,lat)):
            wardname.append(name)
            exist=True
    if exist!=True:
        wardname.append("NA")
        nonwaste.append("NA")
        reswaste.append("NA")
        continue
    #find out the time
    timestamp=restaurantData.INSPECTION_DATE[i][:7]
    nonwaste.append(ward_waste[wardname[i]][timestamp][0])
    reswaste.append(ward_waste[wardname[i]][timestamp][1])
restaurantData['WARD'] = pd.Series(wardname)
restaurantData['NON_RESIDENTIAL_WASTE'] = pd.Series(nonwaste)
restaurantData['RESIDENTIAL_WASTE'] = pd.Series(reswaste)
